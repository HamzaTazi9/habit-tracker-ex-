<!DOCTYPE html>
<html lang="nl">
  <head>
    <meta charset="UTF-8" />
    <title>Habit Tracker</title>
    <style>
      body {
        background: #333;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        margin: 0;
        font-family: sans-serif;
      }

      .iphone-frame {
        width: 390px;
        height: 844px;
        border: 16px solid #000;
        border-radius: 60px;
        box-shadow: 0 0 30px rgba(0, 0, 0, 0.6);
        background: #000;
        overflow: hidden;
        position: relative;
      }

      .iphone-screen {
        width: 100%;
        height: 100%;
        background: #fefefe;
        overflow-y: auto;
        padding: 1rem;
        border-radius: 44px;
        box-sizing: border-box;
      }

      .iphone-frame::before {
        content: "";
        position: absolute;
        top: 0;
        left: 50%;
        width: 210px;
        height: 30px;
        background: #000;
        border-radius: 0 0 20px 20px;
        transform: translateX(-50%);
      }

      .header {
    text-align: center;
    margin-bottom: 20px;
    color: #4a6fa5;
  }

  .nav-buttons {
    display: flex;
    justify-content: space-around;
    margin-bottom: 20px;
  }

  .nav-button {
    padding: 10px 20px;
    background-color: #4a6fa5;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }

  .nav-button.active {
    background-color: #2c4f76;
  }

  .habit-form {
    display: flex;
    margin-bottom: 15px;
  }

  .habit-input {
    flex: 1;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 5px 0 0 5px;
  }

  .add-button {
    padding: 10px 20px;
    background-color: #4a6fa5;
    color: white;
    border: none;
    border-radius: 0 5px 5px 0;
    cursor: pointer;
  }

  .habit-list {
    margin-bottom: 20px;
  }

  .habit-item {
    display: flex;
    align-items: center;
    padding: 15px;
    margin-bottom: 10px;
    background-color: #f7f7f7;
    border-radius: 5px;
    border-left: 4px solid #4a6fa5;
  }

  .habit-checkbox {
    margin-right: 10px;
    width: 20px;
    height: 20px;
  }

  .habit-name {
    flex: 1;
  }

  .habit-streak {
    background-color: #e8f0fe;
    padding: 5px 10px;
    border-radius: 15px;
    font-size: 14px;
    color: #4a6fa5;
  }
  .weekday-selector {
    display: flex;
    justify-content: space-between;
    margin-bottom: 15px;
  }
  .weekday {
    width: 35px;
    height: 35px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    background-color: #f7f7f7;
    cursor: pointer;
  }
  .weekday.active {
    background-color: #4a6fa5;
    color: white;
  }
  .schedule-form {
    display: flex;
    margin-bottom: 15px;
  }

  .schedule-input {
    flex: 1;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 5px 0 0 5px;
  }

  .schedule-list {
    margin-bottom: 20px;
  }

  .schedule-item {
    display: flex;
    align-items: center;
    padding: 15px;
    margin-bottom: 10px;
    background-color: #f7f7f7;
    border-radius: 5px;
    border-left: 4px solid #6a89cc;
  }

  .schedule-time {
    margin-right: 15px;
    font-weight: bold;
    min-width: 50px;
  }

  .schedule-class {
    flex: 1;
  }

  .delete-btn {
    background: none;
    border: none;
    color: #ff4757;
    cursor: pointer;
    font-size: 16px;
  }
  .page {
    display: none;
  }
  .page.active{
    display: block;
  }
    </style>
  </head>

  <body>
    <div class="iphone-frame">
      <div class="iphone-screen">
        <div class="header">
          <h1>School planner</h1>
          <p id="today-date">loading...</p>
        </div>
        <div class="nav-buttons">
          <button class="nav-button active" id="habits-btn">Habits</button>
          <button class="nav-button" id="schedule-btn">Schedule</button>
        </div>
        <!-- Habits Page -->
        <div class="page active" id="habits-page">
          <div class="habit-form">
            <input
              type="text"
              class="habit-input"
              id="new-habit"
              placeholder="Add new study habit"
            />
            <button class="add-button" id="add-habit-btn">Add</button>
          </div>

          <div class="habit-list" id="habit-list">
            <!-- Habits ga ik hier zetten-->
          </div>
           <!-- planning Pagina -->
    <div class="page" id="schedule-page">
      <div class="weekday-selector">
        <div class="weekday active" data-day="0">M</div>
        <div class="weekday" data-day="1">T</div>
        <div class="weekday" data-day="2">W</div>
        <div class="weekday" data-day="3">T</div>
        <div class="weekday" data-day="4">F</div>
        <div class="weekday" data-day="5">S</div>
        <div class="weekday" data-day="6">S</div>
      </div>

      <div class="schedule-form">
        <input type="time" class="schedule-input" id="schedule-time">
        <input type="text" class="schedule-input" id="schedule-class" placeholder="Class or activity">
        <button class="add-button" id="add-schedule-btn">Add</button>
      </div>

      <div class="schedule-list" id="schedule-list">
        <!-- voeg planning informatie toe -->
      </div>
        </div>
      </div>
    </div>
    <script>
      //DOM elementen zetten
  const habitsBtn = document.getElementById('habits-btn');
  const scheduleBtn = document.getElementById('schedule-btn');
  const habitsPage = document.getElementById('habits-page');
  const schedulePage = document.getElementById('schedule-page');
  const todayDate = document.getElementById('today-date');
  const newHabitInput = document.getElementById('new-habit');
  const addHabitBtn = document.getElementById('add-habit-btn');
  const habitList = document.getElementById('habit-list');
  const weekdays = document.querySelectorAll('.weekday');
  const scheduleTimeInput = document.getElementById('schedule-time');
  const scheduleClassInput = document.getElementById('schedule-class');
  const addScheduleBtn = document.getElementById('add-schedule-btn');
  const scheduleList = document.getElementById('schedule-list');

  // app status
  let habits = JSON.parse(localStorage.getItem('habits')) || [];
  let schedules = JSON.parse(localStorage.getItem('schedules')) || [];
  let activeDay = 0; // Monday by default

  // recente datum zetten
  function showCurrentDate() {
    const now = new Date();
    const options = { weekday: 'long', month: 'long', day: 'numeric' };
    todayDate.textContent = now.toLocaleDateString('nl-NL', options);
  }

  // Navigatie
  habitsBtn.addEventListener('click', () => {
    habitsBtn.classList.add('active');
    scheduleBtn.classList.remove('active');
    habitsPage.classList.add('active');
    schedulePage.classList.remove('active');
  });

  scheduleBtn.addEventListener('click', () => {
    scheduleBtn.classList.add('active');
    habitsBtn.classList.remove('active');
    schedulePage.classList.add('active');
    habitsPage.classList.remove('active');
  });

  // Habits functionaliteit
  function showHabits() {
    habitList.innerHTML = '';
    
    habits.forEach((habit, index) => {
      const habitItem = document.createElement('div');
      habitItem.className = 'habit-item';
      
      habitItem.innerHTML = `
        <input type="checkbox" class="habit-checkbox" ${habit.completed ? 'checked' : ''}>
        <span class="habit-name">${habit.name}</span>
        <span class="habit-streak">üî• ${habit.streak} days</span>
        <button class="delete-btn">‚ùå</button>
      `;
      
      const checkbox = habitItem.querySelector('.habit-checkbox');
      checkbox.addEventListener('change', () => toggleHabit(index));
      
      const deleteBtn = habitItem.querySelector('.delete-btn');
      deleteBtn.addEventListener('click', () => deleteHabit(index));
      
      habitList.appendChild(habitItem);
    });
  }

  addHabitBtn.addEventListener('click', () => {
    const habitName = newHabitInput.value.trim();
    
    if (habitName) {
      habits.push({
        name: habitName,
        completed: false,
        streak: 0
      });
      
      saveHabits();
      showHabits();
      newHabitInput.value = '';
    }
  });
  function toggleHabit(index) {
    habits[index].completed = !habits[index].completed;
    
    if (habits[index].completed) {
      habits[index].streak++;
    } else {
      habits[index].streak = Math.max(0, habits[index].streak - 1);
    }
    
    saveHabits();
    showHabits();
  }

  function deleteHabit(index) {
    habits.splice(index, 1);
    saveHabits();
    showHabits();
  }

  function saveHabits() {
    localStorage.setItem('habits', JSON.stringify(habits));
  }

  // Schedule functie
  weekdays.forEach(day => {
    day.addEventListener('click', () => {
      weekdays.forEach(d => d.classList.remove('active'));
      day.classList.add('active');
      activeDay = parseInt(day.getAttribute('data-day'));
      showSchedule();
    });
    
  });
  function showSchedule() {
    scheduleList.innerHTML = '';
    
    const daySchedule = schedules.filter(item => item.day === activeDay);
    
    daySchedule.sort((a, b) => a.time.localeCompare(b.time));
    
    daySchedule.forEach((item, index) => {
      const scheduleItem = document.createElement('div');
      scheduleItem.className = 'schedule-item';
      
      scheduleItem.innerHTML = `
        <span class="schedule-time">${item.time}</span>
        <span class="schedule-class">${item.class}</span>
        <button class="delete-btn" data-index="${schedules.indexOf(item)}">‚ùå</button>
      `;
      
      const deleteBtn = scheduleItem.querySelector('.delete-btn');
      deleteBtn.addEventListener('click', (e) => {
        const scheduleIndex = parseInt(e.target.getAttribute('data-index'));
        deleteScheduleItem(scheduleIndex);
      });
      
      scheduleList.appendChild(scheduleItem);
    });
  }
  addScheduleBtn.addEventListener('click', () => {
    const time = scheduleTimeInput.value;
    const className = scheduleClassInput.value.trim();
    
    if (time && className) {
      schedules.push({
        day: activeDay,
        time: time,
        class: className
      });
      
      saveSchedule();
      showSchedule();
      
      scheduleTimeInput.value = '';
      scheduleClassInput.value = '';
    }
  });
  function deleteScheduleItem(index) {
    schedules.splice(index, 1);
    saveSchedule();
    showSchedule();
  }

  function saveSchedule() {
    localStorage.setItem('schedules', JSON.stringify(schedules));
  }
    // Initialize app
    function init() {
    showCurrentDate();
    showHabits();
    showSchedule();
    
    // key habit input
    newHabitInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        addHabitBtn.click();
      }
    });
    
    // key schedule input
    scheduleClassInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        addScheduleBtn.click();
      }
    });
  }


  init();
  
    </script>
  </body>
</html>
